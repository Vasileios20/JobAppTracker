{% extends "base.html" %}

{% load static %}

{% block title %}Code Challenge Submission{% endblock %}

{% block content %}
<div class="{% if ai_feedback %}d-none{% endif %}">
    <form method="POST" action=""> <!-- Updated action -->
        {% csrf_token %}
        <textarea name="source_code" placeholder="Enter your code here..." required></textarea>
        <select name="language">
            <option value="python">Python</option>
            <option value="javascript">JavaScript</option>
            <option value="cpp">C++</option>
            <!-- Add more languages as needed -->
        </select>
        <button type="submit" class="btn glow-button">Submit</button>
    </form>

</div>

<div class="{% if not evaluation_result and not ai_feedback %}d-none{% endif %} pi-card pi-evaluation-card cc-container">
    <h3 class="cc-title">Feedback</h3>
    {% if ai_feedback %}
    <div class="cc-content">
        <p>{{ ai_feedback }}</p>
    </div>
    {% endif %}
</div>
<div class="cc-container">
    <a href="{% url 'code_challenge' %}" class="btn glow-button">Back to Challenge List</a>
</div>


{% endblock %}